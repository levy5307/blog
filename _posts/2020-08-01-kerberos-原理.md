---
layout: post
title: kerberos
date: 2020-08-01
Author: Levy5307
comments: true
toc: true
---

## 最初设计

!{最初设计图}(../images/kerberous-1.png)

上图所示，最原始版本的权限认证过程是非常简单的：当需要某个服务的时候，就通过用户名和密码去访问该服务来进行验证。

***缺点：***该方案的问题是每个服务都需要保存每个用户的用户名和口令，如果某用户修改口令，则需要访问所有的服务进行修改

## 增加认证服务

用户和服务有口令，另外增加一个认证服务(暂时令认证服务名为Charon)，将所有口令保存在一个单独的中央数据库中。当需要访问某个服务的时候，需要首先得到Charon的认证。

具体时序图如下：

!{}(../images/kerberous-2.png)

***缺点：*** 当接货了Charon发给client的包之后，其他人可以冒充该client去获取该client的邮件等信息。
